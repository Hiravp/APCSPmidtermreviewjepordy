import json

# Load questions from the JSON file
def load_questions():
    with open('jeopardy_questions.json', 'r') as file:
        return json.load(file)

def display_categories(questions):
    print("\nCategories:")
    for category in questions:
        print(f"- {category}")

def display_points(questions, category):
    print(f"\nPoints available for {category}:")
    for points in questions[category]:
        print(f"{points} points")

def ask_question(questions, category, points):
    q = questions[category][str(points)]
    print(f"\nFor {points} points in {category}: {q['question']}")
    answer = input("Your answer: ").strip().lower()
    
    # Check if the answer matches the correct answer (case insensitive)
    if answer == q['answer'].lower():
        print("Correct!")
        return points
    else:
        print(f"Wrong! The correct answer was: {q['answer']}")
        return 0

def main():
    print("Welcome to AP CSP Jeopardy!")
    print("Choose a category and a point value to answer questions!")
    
    questions = load_questions()  # Load questions from JSON
    score = 0

    while True:
        display_categories(questions)
        category = input("\nChoose a category (or type 'exit' to quit): ").strip()
        
        if category.lower() == 'exit':
            break
        if category not in questions:
            print("Invalid category. Try again.")
            continue
        
        display_points(questions, category)
        
        try:
            points = int(input("Choose a point value: ").strip())
            if str(points) not in questions[category]:
                print("Invalid point value. Try again.")
                continue
        except ValueError:
            print("Invalid input. Enter a number.")
            continue
        
        score += ask_question(questions, category, points)
        print(f"Your current score is: {score} points.")
    
    print(f"\nGame over! Your final score is: {score} points. Thanks for playing!")

if __name__ == "__main__":
    main()
